2021-11-17 14:24:16 DEBUG    Namespace(by='dir', dataset=PosixPath('return'), dev_subsamples=10000, limit_samples=True, logfile='split.log', out=PosixPath('split-by-dir-shuffle/return'), ratio=(0.96, 0.02, 0.02), seed=0, shuffle=True, verbose=True)
2021-11-17 14:24:16 INFO     reading dataset...
2021-11-17 14:24:25 INFO       samples: 1101027
2021-11-17 14:24:25 INFO     common directory of all samples...
2021-11-17 14:24:33 INFO       '../../binaries/wasm-dwarf'
2021-11-17 14:24:33 INFO     split by dir...
2021-11-17 14:24:33 INFO     counting samples per category...
2021-11-17 14:25:00 INFO     sample count by most common dir (of 1446 unique):
2021-11-17 14:25:00 INFO         390609 (35.48%) libfst-dev
2021-11-17 14:25:00 INFO          85959 ( 7.81%) leptonica-progs
2021-11-17 14:25:00 INFO          31856 ( 2.89%) cmake
2021-11-17 14:25:00 INFO          23120 ( 2.10%) libmbedcrypto1
2021-11-17 14:25:00 INFO          20570 ( 1.87%) libteem-dev
2021-11-17 14:25:00 INFO          19841 ( 1.80%) emboss
2021-11-17 14:25:00 INFO          12745 ( 1.16%) gdal-bin
2021-11-17 14:25:00 INFO          12107 ( 1.10%) scummvm
2021-11-17 14:25:00 INFO          11193 ( 1.02%) libtiff-dev
2021-11-17 14:25:00 INFO           8931 ( 0.81%) libcapstone-dev
2021-11-17 14:25:00 INFO     limit to at most 85959 (2nd most) samples per dir...
2021-11-17 14:25:00 INFO       before:    1101027 total samples
2021-11-17 14:25:00 INFO       after:      796377 (72.33%) samples
2021-11-17 14:25:00 INFO     split into train/dev/test...
2021-11-17 14:25:00 INFO       ratios: (0.96, 0.02, 0.02)
2021-11-17 14:25:00 INFO       by dir: {'train': 1391, 'test': 29, 'dev': 26}
2021-11-17 14:25:00 INFO       writing 'split-by-dir-shuffle/return/dir-mapping.json'...
2021-11-17 14:25:00 INFO     subsampling dev set to 10000 samples...
2021-11-17 14:25:00 INFO     writing data, with shuffling...
2021-11-17 14:25:00 INFO     train set:
2021-11-17 14:25:17 INFO       totals: {'function': 654937, 'binary': 32322, 'dir': 1391, 'samples': 654937}
2021-11-17 14:25:17 INFO       writing 'split-by-dir-shuffle/return/train/info.jsonl'...
2021-11-17 14:25:22 INFO       writing 'split-by-dir-shuffle/return/train/wasm.txt'...
2021-11-17 14:25:23 INFO       writing 'split-by-dir-shuffle/return/train/type.txt'...
2021-11-17 14:25:24 INFO     test set:
2021-11-17 14:25:25 INFO       totals: {'function': 43173, 'binary': 2836, 'dir': 29, 'samples': 43173}
2021-11-17 14:25:25 INFO       writing 'split-by-dir-shuffle/return/test/info.jsonl'...
2021-11-17 14:25:25 INFO       writing 'split-by-dir-shuffle/return/test/wasm.txt'...
2021-11-17 14:25:25 INFO       writing 'split-by-dir-shuffle/return/test/type.txt'...
2021-11-17 14:25:25 INFO     dev set:
2021-11-17 14:25:27 INFO       totals: {'function': 98267, 'binary': 1247, 'dir': 26, 'samples': 98267}
2021-11-17 14:25:27 INFO       writing 'split-by-dir-shuffle/return/dev/info.jsonl'...
2021-11-17 14:25:28 INFO       writing 'split-by-dir-shuffle/return/dev/wasm.txt'...
2021-11-17 14:25:28 INFO       writing 'split-by-dir-shuffle/return/dev/type.txt'...
2021-11-17 14:25:28 INFO     dev.10000 set:
2021-11-17 14:25:29 INFO       totals: {'function': 10000, 'binary': 737, 'dir': 24, 'samples': 10000}
2021-11-17 14:25:29 INFO       writing 'split-by-dir-shuffle/return/dev.10000/info.jsonl'...
2021-11-17 14:25:29 INFO       writing 'split-by-dir-shuffle/return/dev.10000/wasm.txt'...
2021-11-17 14:25:29 INFO       writing 'split-by-dir-shuffle/return/dev.10000/type.txt'...
